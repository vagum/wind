Всё в старом проекте wind!

Временные метки по видео предыдущего урока:
08.51 Добавление в контроллер выборку категорий для создания поста
10.11 Добавляем в шаблон input type для селекта с категориями
12.37 v-model у селекта в шаблоне
13.20 инициализация в шаблоне в data category_id: null,
13.51 прописываем в Posts/StoreRequest.php 'category_id' => 'nullable|integer|exists:categories,id'
15.19 поймали категорию
15.37 исправляем то что после отсылки формы, сбросилась надпись "Выберите категорию"
18.03 прокидываем картинку
18.41 файлу нельзя назначать v-model - удаляем
19.24 что нужно сделать чтобы картинка долетела на бэк
19.57 записываем в data() image: null
20.10 добавляем метод setImage в methods в шаблоне vue
20.22 прописываем у ссылки @change="setImage"
21.59 console.log(e.target.files[0]);
23.23 прописываем в setImage(e) this.post.image = e.target.files[0];
23.55 дописываем в Posts/StoreRequest 'image' => 'nullable|file',
24.21 в PostController смотри dd($data)
25.35 чтобы не ругалось на Image добавляем в methods: хедер 'Content-Type': 'multipart/form-data'
28.34 про диски и Storage, где это задается в конфиге config/filesystems.php
28.44 указываем куда сохранять картинку в PostController Storage::disk('public')->put('/images', $data['image']);
30.06 прописываем в PostController unset($data['image']); иначе всё упадет
30.17 'image_path' в PostResource.php у меня уже прописано, не прописываю
31.01 запускаем создание поста с картинкой
34.33 добавляем отображение картинки в Posts/Show.vue
35.37 заходим в модель Post и делаем геттер getImageUrlAttribute для отображения ссылки
37.45 исправляем имя домена в .env на http://127.0.0.1:8000
38.35 делаем правки в PostResource и меняем image_path на 'image_url' => $this->image_url,
39.27 в Post/Show.vue прописываем <img :src="post.image_url" />
40.06 делаем симлинк php artisan storage:link
42.28 отображение Success для успешно добавленного поста в Create.vue
43.07 добавление атрибута в data() isSuccess
44.19 обнуление поля file в форме
45.23 прописываем в Create.vue ref="image_input" у поля загрузки картинки
46.30 смотрим console.log(this.$refs.image_input) в setImage
46.53 обнуляем this.$refs.image_input.value = null
49.36 multiple для выбора нескольких файлов
50.53 в Post/StoreRequest.php метод passedValidation для добавления дополнительных данных в массив
      валидированных данных.
52.04 исправляем в PostController $request->validationData()
52.44 переносим данные из PostController в Post/StoreRequest
54.16 сеньерская задача


Что сделано по уроку:
1) Всё что в уроке
2) в StoreRequest добавил удаление image с повторной валидацией
3) добавил универсальную загрузку полей селект и имаджей

